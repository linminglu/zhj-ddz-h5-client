//var replayDataJson = '{"id":1499324591,"creator":1499324539989.0,"opts":{"huier":7,"zhuang":1499324539989.0,"zhuangnum":{"1499324539989":1,"1499324575082":1,"1499324581581":1,"1499324587923":1}},"players":[{"uid":"1499324539989","name":"游客","headimgurl":""},{"uid":"1499324575082","name":"游客","headimgurl":""},{"uid":"1499324581581","name":"游客","headimgurl":""},{"uid":"1499324587923","name":"游客","headimgurl":""}],"cards":[[17,5,9,8,31,17,16,7,17,4,81,26,22],[29,19,41,4,28,12,1,21,11,3,25,18,5],[16,8,61,61,26,8,22,28,9,51,41,23,18],[91,3,28,2,12,6,15,4,51,41,61,6,41]],"actions":[{"uid":"1499324539989","action":"obtain","card":[12]},{"uid":1499324539989.0,"action":"discard","card":["31"]},{"uid":"1499324575082","action":"obtain","card":[27]},{"uid":1499324575082.0,"action":"discard","card":["41"]},{"uid":1499324587923.0,"action":"peng","card":["41","41","41"]},{"uid":1499324587923.0,"action":"discard","card":["91"]},{"uid":"1499324539989","action":"obtain","card":[22]},{"uid":1499324539989.0,"action":"discard","card":["81"]},{"uid":"1499324575082","action":"obtain","card":[25]},{"uid":1499324575082.0,"action":"discard","card":["1"]},{"uid":"1499324581581","action":"obtain","card":[29]},{"uid":1499324581581.0,"action":"discard","card":["41"]},{"uid":"1499324587923","action":"obtain","card":[24]},{"uid":1499324587923.0,"action":"discard","card":["61"]},{"uid":1499324581581.0,"action":"peng","card":["61","61","61"]},{"uid":1499324581581.0,"action":"discard","card":["51"]},{"uid":"1499324587923","action":"obtain","card":[31]},{"uid":1499324587923.0,"action":"discard","card":["51"]},{"uid":"1499324539989","action":"obtain","card":[91]},{"uid":1499324539989.0,"action":"discard","card":[91]},{"uid":"1499324575082","action":"obtain","card":[17]},{"uid":1499324575082.0,"action":"discard","card":[17]},{"uid":1499324539989.0,"action":"minggang","card":[17,17,17,17]},{"uid":"1499324539989","action":"obtain","card":[25]},{"uid":1499324539989.0,"action":"discard","card":["12"]},{"uid":"1499324575082","action":"obtain","card":[61]},{"uid":1499324575082.0,"action":"discard","card":[61]},{"uid":"1499324581581","action":"obtain","card":[27]},{"uid":1499324581581.0,"action":"discard","card":["18"]},{"uid":"1499324587923","action":"obtain","card":[71]},{"uid":1499324587923.0,"action":"discard","card":[71]},{"uid":"1499324539989","action":"obtain","card":[28]},{"uid":1499324539989.0,"action":"discard","card":["16"]},{"uid":"1499324575082","action":"obtain","card":[23]},{"uid":1499324575082.0,"action":"discard","card":["21"]},{"uid":"1499324581581","action":"obtain","card":[13]},{"uid":1499324581581.0,"action":"discard","card":[13]},{"uid":"1499324587923","action":"obtain","card":[13]},{"uid":1499324587923.0,"action":"discard","card":["31"]},{"uid":"1499324539989","action":"obtain","card":[18]},{"uid":1499324539989.0,"action":"discard","card":[18]},{"uid":"1499324575082","action":"obtain","card":[24]},{"uid":1499324575082.0,"action":"discard","card":["11"]},{"uid":"1499324581581","action":"obtain","card":[5]},{"uid":1499324581581.0,"action":"discard","card":["9"]},{"uid":"1499324587923","action":"obtain","card":[71]},{"uid":1499324587923.0,"action":"discard","card":[71]},{"uid":"1499324539989","action":"obtain","card":[81]},{"uid":1499324539989.0,"action":"discard","card":[81]},{"uid":"1499324575082","action":"obtain","card":[11]},{"uid":1499324575082.0,"action":"discard","card":[11]},{"uid":"1499324581581","action":"obtain","card":[1]},{"uid":1499324581581.0,"action":"discard","card":["16"]},{"uid":"1499324587923","action":"obtain","card":[26]},{"uid":1499324587923.0,"action":"discard","card":["15"]},{"uid":"1499324539989","action":"obtain","card":[14]},{"uid":1499324539989.0,"action":"discard","card":["28"]},{"uid":"1499324575082","action":"obtain","card":[13]},{"uid":1499324575082.0,"action":"discard","card":["19"]},{"uid":"1499324581581","action":"obtain","card":[12]},{"uid":1499324581581.0,"action":"discard","card":[12]},{"uid":"1499324587923","action":"obtain","card":[27]},{"uid":1499324587923.0,"action":"discard","card":["24"]},{"uid":"1499324539989","action":"obtain","card":[14]},{"uid":1499324539989.0,"action":"discard","card":["9"]},{"uid":"1499324575082","action":"obtain","card":[8]},{"uid":1499324575082.0,"action":"discard","card":["18"]},{"uid":"1499324581581","action":"obtain","card":[21]},{"uid":1499324581581.0,"action":"discard","card":["1"]},{"uid":"1499324587923","action":"obtain","card":[16]},{"uid":1499324587923.0,"action":"discard","card":[16]},{"uid":"1499324539989","action":"obtain","card":[11]},{"uid":1499324539989.0,"action":"discard","card":[11]},{"uid":"1499324575082","action":"obtain","card":[23]},{"uid":1499324575082.0,"action":"discard","card":["12"]},{"uid":"1499324581581","action":"obtain","card":[71]},{"uid":1499324581581.0,"action":"discard","card":[71]},{"uid":"1499324587923","action":"obtain","card":[81]},{"uid":1499324587923.0,"action":"discard","card":[81]},{"uid":"1499324539989","action":"obtain","card":[9]},{"uid":1499324539989.0,"action":"discard","card":[9]},{"uid":"1499324575082","action":"obtain","card":[19]},{"uid":1499324575082.0,"action":"discard","card":[19]},{"uid":"1499324581581","action":"obtain","card":[2]},{"uid":1499324581581.0,"action":"discard","card":[2]},{"uid":"1499324587923","action":"obtain","card":[22]},{"uid":1499324587923.0,"action":"discard","card":[22]},{"uid":1499324539989.0,"action":"peng","card":[22,22,22]},{"uid":1499324539989.0,"action":"discard","card":["26"]},{"uid":"1499324575082","action":"obtain","card":[14]},{"uid":1499324575082.0,"action":"discard","card":["13"]},{"uid":"1499324581581","action":"obtain","card":[7]}],"result":{"winner":[6]}}';
var ReplayData = {};
var HuierList = [];
var otherReplay = [false];
var ReplayRoomData = {};
var ReplayDataCenter = {};
var ReplayGameData = {};
ReplayDataCenter.room = {};
ReplayDataCenter.isHuier = function (id) {
	for (var i = 0; i < HuierList.length; i++) {
		if (HuierList[i] == id) {
			return true;
		}
	}
	return false;
};
ReplayDataCenter.resultCard = {};
ReplayDataCenter.openRoundPanel = false;
ReplayDataCenter.openReplayPanel = false;
var CardsType = {
	CT_None: 0,
	CT_Diliu: 1, //提溜
	CT_Supai: 2, //素牌
	CT_Hundiao: 3, //混吊
	CT_DHundiao: 4, //双混吊
	CT_Zhuowu: 5, //捉五
	CT_Yitiaolong: 6, //一条龙
	CT_Benhuilong: 7, //本混儿龙
	CT_Tianhu: 8, //天胡
	CT_Dihu: 9, //地胡
	CT_Gangkaihua: 10, //杠上开花
	CT_SuBenlong: 11, //素本龙
	CT_Chan: 12, //产
	CT_Wulong: 13, //拉五龙
	CT_JinGang: 14, //胡金杠
};
ReplayDataCenter.replayResultDetail = function (hutype) {
	var detail = '',
		chan = false,
		flag = false;
	var size = hutype.length;
	for (var i = 0; i < size; i++) {
		switch (hutype[i]) {
			case CardsType.CT_Tianhu:
				detail += '天胡 *4   ';
				break;
				// case CardsType.CT_Dihu: detail += '地胡 *4   '; break;
			case CardsType.CT_Supai:
				detail += '没混 *2   ';
				break;
			case CardsType.CT_Hundiao:
				detail += '混吊 *2   ';
				break;
			case CardsType.CT_DHundiao:
				detail += (size > 1 ? '双混吊 *2   ' : '混吊 *2   ');
				break;
			case CardsType.CT_Gangkaihua:
				detail += '杠开花 *2   ';
				break;
			case CardsType.CT_Zhuowu:
				detail += '捉五 +3   ';
				flag = true;
				break;
			case CardsType.CT_Yitiaolong:
				detail += '一条龙 +4   ';
				flag = true;
				break;
			case CardsType.CT_Benhuilong:
				detail += '本混龙 +4 *2 ';
				flag = true;
				break;
			case CardsType.CT_Chan:
				chan = true;
				break;
			case CardsType.CT_Wulong:
				detail += '拉五龙   ';
				break;
			case CardsType.CT_SuBenlong:
				detail += '素本龙 +4 *4   ';
				flag = true;
				break;
			case CardsType.CT_JinGang:
				{
					if (ReplayRoomData.opts.jingang == 4) detail += '金杠胡 +4   ';
					else if (ReplayRoomData.opts.jingang == 8) detail += '金杠胡 +8   ';
				}
				break;
			default:
				break;
		}
	}

	if (flag && ReplayRoomData.opts.longwufan) {
		detail += '龙五翻 *2   ';
	}
	return [detail, chan];
}

//石狮麻将
var CardsTypeShiShi = {
    CT_None: 0,
    CT_Sudao: 1,		//速到
    CT_Zimo: 2,			//自摸
    CT_Dizhen: 3,		//地震
    CT_Mingyou: 4,		//明游
    CT_Anyou1: 5,		//暗游1
    CT_Anyou2: 6,		//暗游2
    CT_Anyou3: 7		//暗游3
};
ReplayDataCenter.replayResultDetailShiShi = function(hutype){
    var detail = '';
    var size = hutype.length;
    for (var i=0; i<size; i++) {
        switch (hutype[i]) {
            case CardsTypeShiShi.CT_Sudao: {
            	detail += '速到*1   ';
            } break;
            case CardsTypeShiShi.CT_Zimo: {
            	detail += '自摸*2   ';
            } break;
            case CardsTypeShiShi.CT_Dizhen: {
            	detail += '地震*3   ';
            } break;
            case CardsTypeShiShi.CT_Mingyou: {
            	detail += '明游*3   ';
            } break;
            case CardsTypeShiShi.CT_Anyou1: {
            	detail += '暗游1游*3   ';
            } break;
            case CardsTypeShiShi.CT_Anyou2: {
            	detail += '暗游2游*6   ';
            } break;
            case CardsTypeShiShi.CT_Anyou3: {
            	detail += '暗游3游*9   ';
            } break;
            default: break;
        }
    }
    return detail;
}